# Translation Web Application

## Описание

Это веб-приложение на языке Java для перевода набора слов на другой язык с использованием стороннего сервиса перевода. Приложение принимает строку, состоящую из набора слов, исходный язык и целевой язык в качестве параметров для перевода и возвращает переведенную строку.

Каждое слово переводится отдельно в нескольких потоках, при этом число одновременно работающих потоков не превышает 10. Приложение также сохраняет в реляционную базу данных информацию о запросе: IP-адрес пользователя, входную строку для перевода и результат перевода.

## Установка

1. **Настройка базы данных**

   Установите PostgreSQL и создайте базу данных. Подключитесь к базе данных и выполните `schema.sql` для создания таблицы для хранения данных запросов.

   ```sql
   CREATE TABLE IF NOT EXISTS translation_requests (
       id SERIAL PRIMARY KEY,
       user_address VARCHAR(15),
       text TEXT,
       translated_text TEXT
   );
   ```

2. **Настройка приложения**

   Склонируйте репозиторий и настройте параметры подключения к базе данных и API перевода в файле `application.properties`.

## Запуск

Запустите приложение через `TranslationApplication.main`. Приложение будет доступно по адресу `http://localhost:8080`.

## Использование

### Запрос на перевод

Приложение обрабатывает POST-запросы по URL `http://localhost:8080/translate`.

#### Пример запроса

```http
POST http://localhost:8080/translate
Content-Type: application/json

{
  "sourceLanguageCode": "ru",
  "targetLanguageCode": "en",
  "text": "Привет, меня зовут Аркадий"
}
```

#### Пример ответа

```http
HTTP/1.1 200 
Content-Type: text/plain;charset=UTF-8
Content-Length: 24

Hello, me name is Arkady
```

### Обработка ошибок

- Если переданы пустые `sourceLanguageCode` или `targetLanguageCode`, или если передано не заполненное `text`, будет выведено сообщение об ошибке.
- Если введены недопустимые языковые коды, будет выведено сообщение об ошибке из внешнего API, которое используется для перевода. В сообщении будут указаны все варианты языковых кодов, которые можно использовать.
